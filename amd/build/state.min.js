define([],function(){var a=function(a){if(this.turn="",this.oMovesCount=0,this.result="still running",this.board=[],"undefined"!=typeof a){var b=a.board.length;this.board=new Array(b);for(var c=0;c<b;c++)this.board[c]=a.board[c];this.oMovesCount=a.oMovesCount,this.result=a.result,this.turn=a.turn}this.advanceTurn=function(){this.turn="X"===this.turn?"O":"X"},this.emptyCells=function(){for(var a=[],b=0;b<9;b++)"E"===this.board[b]&&a.push(b);return a},this.isTerminal=function(){for(var a=this.board,b=0;b<=6;b+=3)if("E"!==a[b]&&a[b]===a[b+1]&&a[b+1]==a[b+2])return this.result=a[b]+"-won",!0;for(var c=0;c<=2;c++)if("E"!==a[c]&&a[c]===a[c+3]&&a[c+3]===a[c+6])return this.result=a[c]+"-won",!0;for(var d=0,e=4;d<=2;d+=2,e-=2)if("E"!==a[d]&&a[d]==a[d+e]&&a[d+e]===a[d+2*e])return this.result=a[d]+"-won",!0;var f=this.emptyCells();return 0==f.length&&(this.result="draw",!0)}};return a});