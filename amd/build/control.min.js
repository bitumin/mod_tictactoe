define(["jquery","mod_tictactoe/ui"],function(a,b){return{init:function(){var c={};c.status="running",c.turn="X",b.switchViewTo("human"),a(".cell").each(function(){var d=a(this);d.click(function(){if("running"===c.status&&"X"===c.turn&&!d.hasClass("occupied")){c.turn="O",b.switchViewTo("ai");var a=parseInt(d.data("indx"));b.insertAt(a,"X");var e={};if(e.validMove=!0,e.isTerminal=!1,e.movePosition=1,!e.validMove)return c.turn="X",void b.switchViewTo("try-again");if(e.isTerminal)return c.status="ended",void("X-won"===e.result?b.switchViewTo("won"):"O-won"===e.result?b.switchViewTo("lost"):"draw"===e.result&&b.switchViewTo("draw"));b.insertAt(e.movePosition,"O"),c.turn="X",b.switchViewTo("human")}})})}}});